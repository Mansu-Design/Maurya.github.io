define(["require","exports","tslib","react","modules/clean/auth/login_or_register/types","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/logging","modules/clean/react/file_viewer/utils","modules/clean/react/share_download/models","modules/clean/react/title_bar/overflow_menu","modules/clean/share_download/types","modules/clean/viewer","modules/clean/react/file_viewer/conversions/conversion_utils"],(function(e,o,n,t,l,i,r,a,s,u,c,d,p){"use strict";function f(e,o,n,t,i,r,a){var u=e.canDownloadRoles,f=e.canCopyToDropboxRoles,m=s.ShareDownloadActionOption.buildDirectOption,w=s.ShareDownloadActionOption.buildToDropboxOption,_=[];if(c.isPendingEntry(t))return _;if(u.length>0&&_.push(m(o,p.shouldShowPostDownloadModal()&&!r?l.LoginOrRegisterKind.POSTDOWNLOAD:i)),f.length>0){var g=d.Viewer.get_viewer(),v=g.get_users(!0),O=function(e,o){var l=-1===f.indexOf(o);_.push(w(n,t,g,e,o,l,a))};v.forEach((function(e){O(e,e.role)})),f.indexOf("anonymous")>-1&&O(void 0,"anonymous")}return _}function m(e,o,n,t){return function(l){n&&n(),e.handler&&e.handler(),r.logUserAction(e.userAction,a.getSplitButtonUserActionContext(o,t))}}Object.defineProperty(o,"__esModule",{value:!0}),t=n.__importDefault(t),o.getDownloadOptions=f,o.callOptionHandler=m,o.getDownloadOptionsAsPopoverOrMobileItems=function(e,o,n,l,r){return f(e,o,n,l,null,null,r).map((function(e){return t.default.createElement(u.PopoverOrMobileItem,{key:e.userAction,disabled:e.isDisabled,onSelect:m(e,i.SplitButtonActionLocation.Split)},e.text)}))}}));
//# sourceMappingURL=util.min.js-vflmlddwQ.map