define(["require","exports","tslib","immutable","react","modules/clean/auth/login_or_register/types","modules/clean/filepath","modules/clean/react/file_viewer/constants","modules/clean/react/share_download/actions","modules/core/i18n"],(function(e,t,o,r,a,n,i,s,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importStar(r),a=o.__importDefault(a),i=o.__importStar(i),l=o.__importStar(l);var c={text:void 0,handler:void 0,spriteName:void 0,isDisabled:void 0,userAction:void 0},u=(function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(r,t),r.buildDirectOption=function(t,i){var c=this;return void 0===i&&(i=null),new r({text:d.intl.formatMessage({id:"n1Nx/q",defaultMessage:"Direct download"}),handler:function(){return o.__awaiter(c,void 0,void 0,(function(){var r=this;return o.__generator(this,(function(s){switch(s.label){case 0:return[4,l.direct(t,i)];case 1:return s.sent(),i===n.LoginOrRegisterKind.POSTDOWNLOAD&&(function(){return o.__awaiter(r,void 0,void 0,(function(){var r,n,i;return o.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([new Promise((function(t,o){e(["modules/clean/react/modal"],t,o)})).then(o.__importStar),new Promise((function(t,o){e(["modules/clean/react/file_viewer/conversions/post-download-modal"],t,o)})).then(o.__importStar)])];case 1:return r=s.sent(),n=r[0].Modal,i=r[1].PostDownloadModal,n.showInstance(a.default.createElement(i,{showModal:!0,sharedLinkInfo:t})),[2]}}))}))})(),[2]}}))}))},spriteName:"download_arrow",userAction:s.UserAction.Download})},r.buildToDropboxOption=function(e,t,o,n,c,u,m){void 0===u&&(u=!1);var f=d.intl.formatMessage({id:"l/lvUk",defaultMessage:"Save to my Dropbox"}),_="dropbox",p=s.UserAction.SaveToDropbox;if(n&&n.is_cdm_member){var v=i.filename(n.cdm_tmf_path);f=v.length>12?d.intl.formatMessage({id:"QPvsZL",defaultMessage:"Save to my member folder"}):d.intl.formatMessage({id:"VIDWC/",defaultMessage:"Save to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:v,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.default.createElement("strong",null,e)}}),o.is_paired&&(_="s_briefcase",p=s.UserAction.SaveToDropboxWork)}else if(o.is_paired)switch(c){case"personal":f=d.intl.formatMessage({id:"S5UJEB",defaultMessage:"Save to personal Dropbox"}),_="s_house",p=s.UserAction.SaveToDropboxPersonal;break;case"work":f=d.intl.formatMessage({id:"76AF1h",defaultMessage:"Save to {team_name} Dropbox"},{team_name:o.team_name}),_="s_briefcase",p=s.UserAction.SaveToDropboxWork}return new r({text:f,handler:function(){l.toDropbox(e,t,c,n,m)},spriteName:_,isDisabled:u,userAction:p})},r})(r.Record(c));t.ShareDownloadActionOption=u}));
//# sourceMappingURL=models.min.js-vflEbgAHs.map