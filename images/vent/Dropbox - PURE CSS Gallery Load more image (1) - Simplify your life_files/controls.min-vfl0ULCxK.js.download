define(["require","exports","tslib","react","modules/clean/abuse/report_flag","modules/clean/react/account_menu/account_menu_selector","modules/clean/react/file_action_button_type","modules/clean/react/file_action_button_type","modules/clean/react/file_viewer/constants","modules/clean/react/open_in_app/button","modules/clean/react/share_download/button","modules/clean/react/share_sync/button","modules/clean/react/shared_link/actions","modules/clean/react/sign_in/button","modules/clean/react/sign_in/popover_or_mobile_item","modules/clean/react/title_bar/controls_container","modules/clean/react/user_notifications/dropdown","modules/clean/react/size_class/constants","modules/clean/react/title_bar/overflow_menu","modules/clean/react/share_download/util","modules/clean/viewer"],(function(e,n,t,o,l,r,a,i,u,s,c,d,m,_,p,f,h,k,v,y,w){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),o=t.__importDefault(o),m=t.__importStar(m);var E=(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.accountMenuOptions,a=e.folder,i=e.newAccountMenuExperiment,m=e.outOfQuota,p=e.sharedLinkInfo,y=e.sharePermission,E=e.shareToken,L=e.showSyncCoachmark,A=e.sizeClass,P=e.user,g=p.hasPublicAudienceOrVisibility,M=p.displayName,O=y.canRemoveLinkUids,I=y.canSyncToDropboxRoles,N=E.linkKey,C=O.length>0;if(A===k.SizeClass.Small)return o.default.createElement(S,{accountMenuOptions:n,canRemoveLink:C,canRemoveLinkUids:O,displayName:M,linkKey:N,folder:a,sharedLinkInfo:p,shareToken:E,sharePermission:y,user:P});var x=I.length>0,T=!!a.open_in_app_data;return o.default.createElement(f.TitleBarControlsContainer,null,!1!==g?o.default.createElement(l.ReportFlag,{isFolderLink:!0,sharedLink:p.url,shareToken:E}):null,T?o.default.createElement(s.OpenInAppButton,{urls:a.open_in_app_data,userActionContext:u.UserActionContext.TitleBarMain}):null,null!=P?o.default.createElement(r.AccountMenuSelector,t.__assign({},n,{accountPhotoUrl:"personal"===P.role?n.personalAccountPhotoUrl:n.workAccountPhotoUrl,user:P,viewer:w.Viewer.get_viewer(),newAccountMenuExperiment:i})):o.default.createElement(_.SignInButton,{isPrimaryButton:T}),x?o.default.createElement(d.ShareSyncButton,{folder:a,outOfQuota:m,sharedLinkInfo:p,sharePermission:y,shareToken:E,showSyncCoachmark:L,user:P}):null,o.default.createElement(c.ShareDownloadButton,{copyable:a,sharedLinkInfo:p,shareToken:E,sharePermission:y,user:P}),o.default.createElement(v.OverflowMenu,{hideOnDisabled:!0},C?o.default.createElement(b,{contentName:M,linkKey:N,userId:O[0]}):null),null!=P?o.default.createElement("div",{className:"react-title-bar__divider"}):null,null==P||P.is_guest_admin?null:o.default.createElement(h.UserNotificationsDropdown,{isPagelet:!1}))},n})(o.default.Component);n.SharedLinkFolderControls=E;var b=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.removeShareLink=function(e){e.preventDefault();var t=n.props,o=t.contentName,l=t.userId,r=t.linkKey;m.removeLinkAsNonOwner(l,r,o)},n}return t.__extends(n,e),n.prototype.render=function(){return o.default.createElement(v.PopoverOrMobileItem,{className:"__remove_share_link",onSelect:this.removeShareLink},i.getFileActionButtonText(a.FileActionButtonType.REMOVE_LINK))},n})(o.default.Component);function S(e){var n=e.accountMenuOptions,l=e.canRemoveLink,a=e.canRemoveLinkUids,i=e.displayName,u=e.linkKey,s=e.folder,c=e.newAccountMenuExperiment,d=e.sharedLinkInfo,m=e.shareToken,_=e.sharePermission,f=e.user;return o.default.createElement("div",{className:"react-title-bar__controls"},null!=f?o.default.createElement("div",{className:"fsl-account-menu-small"},o.default.createElement(r.AccountMenuSelector,t.__assign({},n,{accountPhotoUrl:"personal"===f.role?n.personalAccountPhotoUrl:n.workAccountPhotoUrl,user:f,viewer:w.Viewer.get_viewer(),newAccountMenuExperiment:c}))):null,o.default.createElement(v.OverflowMenu,null,l?o.default.createElement(b,{key:"remove-link",contentName:i,linkKey:u,userId:a[0]}):null,y.getDownloadOptionsAsPopoverOrMobileItems(_,d,m,s),null==f?o.default.createElement(p.SignInPopoverOrMobileItem,{key:"sign-in"}):null))}n.RemoveShareLink=b,n.SharedLinkControlsSmall=S}));
//# sourceMappingURL=controls.min.js-vflws_ID_.map